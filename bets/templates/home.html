{% extends 'base.html' %}

{% block title %}PalpitaIFPI{% endblock %}

{% block content %}
<div class="welcome-header" style="margin-bottom: 30px;">
    <h2>Bem-vindo ao PalpitaIFPI! üèÜ</h2>
    <p class="text-muted">
        O sistema oficial de palpites esportivos. Ganhe XP, suba de n√≠vel e domine o ranking.
    </p>
    
    {% if not user.is_authenticated %}
    <div style="margin-top: 20px;">
        <a href="{% url 'admin:login' %}" class="btn">Entrar Agora</a>
        <a href="{% url 'register' %}" class="btn btn-secondary">Criar Conta</a>
    </div>
    {% endif %}
</div>

<div class="dashboard-card"> 
    <h3>üìã Modalidades Dispon√≠veis</h3>
    {% if modalidades %}
        <ul class="mod-list">
            {% for modalidade in modalidades %}
                <li>
                    <a href="{% url 'jogos_por_modalidade' modalidade.id %}">
                        {{ modalidade.nome }}
                    </a>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p class="text-muted italic">Nenhuma modalidade cadastrada ainda.</p>
    {% endif %}
</div>

<div class="dashboard-card"> 
    <h3>‚öΩ Pr√≥ximos Jogos</h3>
    {% if jogos_proximos %}
        <ul class="mini-game-list">
            {% for jogo in jogos_proximos %}
                <li class="mini-game-item">
                    <div class="mini-game-info">
                        <strong>{{ jogo.time1 }} x {{ jogo.time2 }}</strong> 
                        <span>{{ jogo.modalidade.nome }} ‚Ä¢ {{ jogo.data|date:"d/m H:i" }}</span>
                    </div>
                    {% if user.is_authenticated %}
                        <a href="{% url 'criar_palpite' jogo.id %}" class="btn btn-small">
                            Apostar
                        </a>
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p class="text-muted italic">Nenhum jogo pr√≥ximo cadastrado.</p>
    {% endif %}
    
    <div style="margin-top: 15px; text-align: right;">
        <a href="{% url 'listar_jogos' %}" style="color: var(--primary-yellow); text-decoration: none; font-size: 13px;">Ver todos os jogos &rarr;</a>
    </div>
</div>

<div class="dashboard-card info-box"> 
    <h3 style="color: var(--primary-green); border-bottom-color: var(--primary-green);">üéØ Sistema de Pontua√ß√£o</h3>
    <ul>
        <li><strong>Placar Exato:</strong> Ganhe <span style="color: #fff; font-weight: bold;">50 XP</span></li>
        <li><strong>Vencedor/Empate:</strong> Ganhe <span style="color: #fff; font-weight: bold;">10 XP</span></li>
        <li><strong>Subir de N√≠vel:</strong> Acumule XP para desbloquear conquistas no ranking!</li>
    </ul>
</div>

<div class="center-buttons"> 
    <a href="{% url 'ranking' %}" class="btn btn-secondary" style="width: 100%;">Ver Ranking Completo</a>
</div>
{% endblock %}